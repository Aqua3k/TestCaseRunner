<!DOCTYPE html>
<html>
<head>
    <title>Log Viewer</title>
    <meta charset="UTF-8">
</head>
<body>

<header>
    <h1>Log Viewer</h1>
</header>

<link rel="stylesheet" href="https://newcss.net/new.min.css">

<div class="button-container">
    <button onclick="buttonClicked(1)">Button 1</button>
    <button onclick="buttonClicked(2)">Button 2</button>
</div>

<div id="responseArea"></div>

<script>
    window.onload = function() {
        updateTable();
    };

    function updateTable() {
        var data = JSON.stringify({ type: "0" });
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://localhost:5000/api/log_table", true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function() {
            if (xhr.readyState === XMLHttpRequest.DONE) {
                if (xhr.status === 200) {
                    var responseText = xhr.responseText;
                    document.getElementById('responseArea').innerHTML = responseText; // レスポンスをWebページに表示
                } else {
                    alert('HTTPリクエストが失敗しました。');
                }
            }
        };
        console.log(data)
        xhr.send(data);
    }

    function buttonClicked(buttonNumber) {
        var checkboxs = getCheckboxList();
        if (buttonNumber === 1) {
            console.log(checkboxs);
        } else if (buttonNumber === 2) {
        }
    }
    function getCheckboxList(){
        let ret = [];
        var checkboxes = document.querySelectorAll('.groupedCheckbox');
        checkboxes.forEach(function(checkbox) {
            if (checkbox.checked) {
                ret.push(checkbox.id);
            }
        });
        return ret;
    }
</script>

</body>
</html>
